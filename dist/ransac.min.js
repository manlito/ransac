function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.Ransac=r()}(this,function(){"use strict";var e=function(){function e(r){_classCallCheck(this,e),this.problem=r}return _createClass(e,[{key:"sample",value:function r(e){for(var r=[],t=0;e>t;){var n=Math.floor(Math.random()*this.problem.data.length);-1===r.indexOf(this.problem.data[n])&&(r.push(this.problem.data[n]),++t)}return r}},{key:"modelError",value:function(e){var r=this.problem,t=r.data.reduce(function(t,n){var a=r.fit(e,n);return t+Math.pow(a,2)},0);return t}},{key:"classifyInliers",value:function(e,r,t){var n=[],a=[],o=this.problem;return o.data.forEach(function(i){-1===r.indexOf(i)&&(o.fit(e,i)<=t.threshold?n.push(i):a.push(i))}),{inliers:n,outliers:a}}},{key:"estimate",value:function(e){for(var r=0,t={error:1/0,model:{},inliers:[],outliers:[],status:"Failed"};r<e.maxIterations;){var n=this.sample(e.sampleSize),a=this.problem.model(n),o=this.classifyInliers(a,n,e),i=o.inliers,s=o.outliers,l=i.length/parseFloat(this.problem.data.length);if(l>=e.inliersRatio){var u=a;e.improveModelWithConcensusSet&&(u=this.problem.model(i.concat(n)));var c=this.modelError(u);c<t.error&&(t={inliers:i,outliers:s,model:u,error:c,status:"Success"})}++r}return t}}]),e}(),r=e;return r});
//# sourceMappingURL=ransac.min.js.map
